<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Pura Power Pink Pong MVP</title>
<style>
body { margin:0; background:#111; display:flex; justify-content:center; align-items:center; height:100vh; }
canvas { background:#222; display:block; border: 2px solid #ff69b4; }
</style>
</head>
<body>
<canvas id="gameCanvas" width="600" height="400"></canvas>
<script>
const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');

const paddle = { x: 250, y: 370, width: 100, height: 15, speed: 5 };
const leftFlipper = { x: 0, y: 180, width: 10, height: 60, speed: 5 };
const rightFlipper = { x: 590, y: 180, width: 10, height: 60, speed: 5 };
const ball = { x: 300, y: 200, radius: 10, speedX: 3, speedY: -3 };

let bricks = [];
const brickRows = 4, brickCols = 8;
const brickWidth = 60, brickHeight = 20, brickPadding = 5;
let score = 0, lives = 3;
let keys = {};

function createBricks() {
bricks = [];
for(let r=0;r<brickRows;r++){
for(let c=0;c<brickCols;c++){
bricks.push({
x: c*(brickWidth+brickPadding)+35,
y: r*(brickHeight+brickPadding)+30,
width: brickWidth,
height: brickHeight,
hit:false
});
}
}
}
createBricks();

document.addEventListener('keydown', e => keys[e.key] = true);
document.addEventListener('keyup', e => keys[e.key] = false);

function drawPaddle(p){ ctx.fillStyle = '#ff69b4'; ctx.fillRect(p.x,p.y,p.width,p.height); }
function drawFlipper(f){ ctx.fillStyle = '#ff1493'; ctx.fillRect(f.x,f.y,f.width,f.height); }
function drawBall(){ ctx.fillStyle = '#fff'; ctx.beginPath(); ctx.arc(ball.x,ball.y,ball.radius,0,Math.PI*2); ctx.fill(); }
function drawBricks(){
bricks.forEach(b => { if(!b.hit){ ctx.fillStyle='#ff1493'; ctx.fillRect(b.x,b.y,b.width,b.height); } });
}
function drawScore(){ ctx.fillStyle='#fff'; ctx.font='16px Arial'; ctx.fillText('Score: '+score,10,20); }
function drawLives(){ ctx.fillStyle='#fff'; ctx.font='16px Arial'; ctx.fillText('Lives: '+lives,500,20); }

function update(){
// Paddle movement
if(keys['ArrowLeft'] && paddle.x>0) paddle.x -= paddle.speed;
if(keys['ArrowRight'] && paddle.x + paddle.width<canvas.width) paddle.x += paddle.speed;
if(keys['a'] && leftFlipper.y>0) leftFlipper.y -= leftFlipper.speed;
if(keys['z'] && leftFlipper.y+leftFlipper.height<canvas.height) leftFlipper.y += leftFlipper.speed;
if(keys['s'] && rightFlipper.y>0) rightFlipper.y -= rightFlipper.speed;
if(keys['x'] && rightFlipper.y+rightFlipper.height<canvas.height) rightFlipper.y += rightFlipper.speed;

// Ball movement
ball.x += ball.speedX; ball.y += ball.speedY;

// Wall collisions
if(ball.x+ball.radius>canvas.width || ball.x-ball.radius<0) ball.speedX*=-1;
if(ball.y-ball.radius<0) ball.speedY*=-1;
if(ball.y+ball.radius>canvas.height){
lives--;
if(lives<=0){ alert('Game Over! Score: '+score); resetGame(); }
else { ball.x=300; ball.y=200; ball.speedY=-3; ball.speedX=3; }
}

// Paddle collision
if(ball.x > paddle.x && ball.x < paddle.x+paddle.width && ball.y+ball.radius>paddle.y){
ball.speedY*=-1;
let deltaX = ball.x-(paddle.x+paddle.width/2);
ball.speedX = deltaX*0.15;
}

// Flipper collision
[leftFlipper,rightFlipper].forEach(f=>{
if(ball.x+ball.radius>f.x && ball.x-ball.radius<f.x+f.width &&
ball.y+ball.radius>f.y && ball.y-ball.radius<f.y+f.height){
ball.speedX*=-1; ball.speedY*=-1;
}
});

// Brick collision
bricks.forEach(b=>{
if(!b.hit &&
ball.x+ball.radius>b.x && ball.x-ball.radius<b.x+b.width &&
ball.y+ball.radius>b.y && ball.y-ball.radius<b.y+b.height){
ball.speedY*=-1;
b.hit = true;
score += 10;
}
});
}

function resetGame(){
createBricks();
score=0; lives=3;
ball.x=300; ball.y=200; ball.speedX=3; ball.speedY=-3;
}

function draw(){
ctx.clearRect(0,0,canvas.width,canvas.height);
drawPaddle(paddle);
drawFlipper(leftFlipper);
drawFlipper(rightFlipper);
drawBall();
drawBricks();
drawScore();
drawLives();
}

function gameLoop(){
update();
draw();
requestAnimationFrame(gameLoop);
}

gameLoop();
</script>
</body>
</html>
